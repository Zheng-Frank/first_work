<div class="container">
  <h2 class="text-center">Agent Call Stats Dashboard</h2>
  <h6 class="text-center">{{ entries }} Entries shown</h6>
  <div class="row">
    <div class="col text-center">
      <button (click)="reload()" class="text-center btn btn-link">
        <i class="fas fa-sync-alt"></i>
        Reload
      </button>
    </div>
  </div>
  <br />

  <div class="row">
    <div class="col-sm-12">
      <span class="dropdown">
        <b>View: &nbsp; </b>
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          id="dropdownMenuButton1"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          {{ criteria }} &nbsp;
        </button>
        <span *ngIf="criteria == 'Custom Date'"></span>
          &nbsp; &nbsp; <input [(ngModel)]='inputDateOne' type="date" required/> &nbsp; to &nbsp;
          <input [(ngModel)]='inputDateTwo' type="date" />
        </span>

        &nbsp; &nbsp;
        <span class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <a (click)="setCriteria('24Hours')" class="dropdown-item"
            >Last 24 Hours</a
          >
          <a (click)="setCriteria('48Hours')" class="dropdown-item"
            >Last 48 Hours</a
          >
          <a (click)="setCriteria('3Days')" class="dropdown-item"
            >Last 3 Days</a
          >
          <a (click)="setCriteria('7Days')" class="dropdown-item"
            >Last 7 Days</a
          >
          <a (click)="setCriteria('30Days')" class="dropdown-item"
            >Last 30 Days</a
          >
          <a (click)="setCriteria('customDate')" class="dropdown-item"
            >Custom Date</a
          >
        </span>
      </span>
      <span class="dropdown">
        <b>Sort By: &nbsp; </b>
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          id="dropdownMenuButton1"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Total Calls &nbsp;
        </button>

        &nbsp; &nbsp;
        <span class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <a class="dropdown-item">Avg Call Time</a>
          <a class="dropdown-item">Total Call Time</a>
        </span>
      </span>
      <span class="dropdown">
        <b>Sorting: &nbsp; </b>
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          id="dropdownMenuButton1"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Ascending &nbsp;
        </button>

        &nbsp; &nbsp;
        <span class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <a class="dropdown-item">Descending</a>
        </span>
      </span>
      <!-- <span> <app-quick-date-picker></app-quick-date-picker> </span> -->
    </div>
  </div>
</div>

<div class="container">
  <div
    class="row"
    *ngFor="let item of agentMappedData | keyvalue"
    class="card-body"
  >
    <hr />
    <div>
      Agent Name: <b>{{ item.key }}</b>
    </div>
    <div>Total Calls: {{ getData(item.key).totalCalls }}</div>
    <div>Avg Call Time: {{ secondsToHms(getData(item.key).avgCallTime) }}</div>
    <div>
      Total Call Time: {{ secondsToHms(getData(item.key).totalCallTime) }}
    </div>

    <canvas width="800" height="100" #cmp>{{ item.key }}</canvas>
    <hr />
  </div>
</div>
