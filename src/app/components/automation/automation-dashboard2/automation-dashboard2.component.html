<h1 class="text-center">Automated Tasks</h1>

<table class="table">
  <thead>
    <tr>
      <td>
        Date
      </td>
      <td>
        Name
      </td>
      <td>
        Inputs
      </td>
      <td>
        Result
      </td>
      <td>
        Actions
      </td>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let row of taskRows">
      <td>
        5:30PM<br>06/12/2019
      </td>
      <td>
        <button (click)="toggleRowDetails(row)"
          class="btn btn-link">{{row.task.name}}</button> <button class="btn btn-link" (click)="consoleOut(row)"><i
            class="fas fa-terminal"></i></button>
        <div *ngIf="detailedRow === row">
          <div id="chart_div"></div>
        </div>
      </td>
      <td>
        <pre>{{row.task.inputs | json}}</pre>
      </td>
      <td>
        <div *ngFor="let execution of row.executions" (click)="showDetails(execution)">
          <span class="text-muted mr-2">{{execution.time | shortTime}}</span><span
            class="{{execution.status === 200 ? 'text-success' : (execution.status === 400 ? 'text-danger' : 'text-info')}}">{{execution.status}}</span>
        </div>
      </td>
      <td>
        <button class="btn btn-success" *ngIf="row.shouldShowStart" (click)="start(row)"><i
            class="fas fa-play pr-2"></i>Start</button>
        <button class="btn btn-danger" *ngIf="row.shouldShowStop" (click)="stop(row)"><i
            class="fas fa-spinner fa-spin px-2"></i>Stop</button>
      </td>
    </tr>
  </tbody>
</table>