<p>
    task-list works!
</p>

<table class="table" *ngIf="taskList && taskList.length > 0">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Task</th>
            <th scope="col">Assignee</th>
            <th scope="col">Group</th>
            <th scope="col">Status</th>
            <th scope="col">Action</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let task of taskList; let i=index" class="{{'status-' + task.getStatus()}} {{task.getStatus() === 'CLOSED' ? 'text-success' : ''}}">
            <th scope="row">{{i+1}}</th>
            <td>{{task.name}}
                <div class="text-muted" *ngIf="task.description">
                    <small>
                        {{task.description}}
                    </small>
                </div>
            </td>
            <td>{{task.assignee}}</td>
            <td>{{getRoles(task)}}</td>
            <td>{{task.getStatus()}}</td>
            <td>
                <div class="d-inline-block" *ngFor="let action of task.getBuiltInActions(username, roles)">
                    <button class="btn btn-sm btn-primary" (click)="act(task, action)">{{action.name}}</button>&nbsp;
                </div>

            </td>
        </tr>
    </tbody>
</table>

<tr *ngIf="!taskList || taskList.length === 0">
    List is empty
</tr>

<!--the editing modal-->
<q-modal #taskActionerModal [title]="activeTask?.name">
    <app-task-actioner (cancel)="cancelAction($event)" (done)="actionDone($event)" [action]="activeAction" [task]="activeTask"></app-task-actioner>

</q-modal>