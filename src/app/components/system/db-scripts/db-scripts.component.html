<h1 class="text-center">DB Scripts</h1>

<div class="card-group">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Sync</h5>
            <p class="card-text">Three entities: Restaurants, GMB Business, Lead. </p>
            <app-sync-buttons></app-sync-buttons>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Remove Duplicated Leads</h5>
            <p class="card-text">Remove duplicated leads, based on restaurantId</p>
            <button class="btn btn-primary" (click)="removeDuplicates()">Remove Duplicates</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">qMenu: Migrate Address</h5>
            <p class="card-text">No side effects. Migrating 'address' (in separate document) to 'restaurant' document
                as
                googleAddress.</p>
            <button class="btn btn-primary" (click)="migrateAddress()">Migrate Address</button>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">qMenu: Fix Google Address</h5>
            <p class="card-text">Some old restaurant's googleAddress has missing info (no locality, street_number etc.)</p>
            <button class="btn btn-primary" (click)="fixAddress()">Fix Address</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">qMenu: Migrate Email and Phones(Again)</h5>
            <p class="card-text">No side effects. Consolidate phones and emails into new structure restaurant.channels</p>
            <button class="btn btn-primary" (click)="migrateEmailAndPhones()">Migrate Email and Phones</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">qMenu: Remove Orphan Phones</h5>
            <p class="card-text">Orphan Phone: Associated restaurant has been deleted. We need to remove them from
                database.</p>
            <button class="btn btn-primary" (click)="removeOrphanPhones()" [qLoading]="removingOrphanPhones">Remove</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Admin: Fix Call Logs (Data Corruption)</h5>
            <p class="card-text">Some call logs is object instead of array. This will put logs in array.</p>
            <button class="btn btn-primary" (click)="fixCallLogs()">Fix</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">qMenu: Inject deliveryBy for historical orders</h5>
            <p class="card-text">ONE TIME: (Disable after run)</p>
            <button class="btn btn-primary" (click)="injectDeliveryBy()" [disabled]="true">Fix</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">qMenu: Inject deliveryBy from order to invoice.orders</h5>
            <p class="card-text">No side effects. We have invoices that didn't have deliveryBy injected</p>
            <button class="btn btn-primary" (click)="injectDeliveryByToInvoice()">Fix</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">qMenu: Inject redundant total, subtotal etc to invoice</h5>
            <p class="card-text">No side effects. We have to batch process existing invoices. When query, we SKIP
                already
                calculated ones.</p>
            <button class="btn btn-primary" (click)="injectTotalEtcToInvoice()">Fix</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Inject old GMB to new GMB</h5>
            <p class="card-text">No side effects.</p>
            <button class="btn btn-primary" (click)="convertGmb()">Convert</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Stripe Charge Problem</h5>
            <p class="card-text">Get missing charge problem for stripe</p>
            <button class="btn btn-primary" (click)="getStripeErrors()">Get Stripe Errors</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Generic Testing</h5>
            <p class="card-text">Some random queries.</p>
            <button class="btn btn-primary" (click)="genericTesting()">Testing</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Invoice Error (previous balance)</h5>
            <p class="card-text">get Random</p>
            <button class="btn btn-primary" (click)="genericTesting()">Testing</button>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Remove Redundant Gmb Biz</h5>
            <p class="card-text">Based On Same place_ids</p>
            <button class="btn btn-primary" (click)="removeRedundantGmbBiz()">Remove</button>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Fix Missing Business Phone</h5>
            <p class="card-text">Find restaurant missing business phone and patch. Check console.</p>
            <button class="btn btn-primary" (click)="fixMissingBusinessPhones()">Fix</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Create Apply GMB Task for RT</h5>
            <button class="btn btn-primary" (click)="createApplyGmbTask()">Start</button>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Fix Null Menu and Duplicated Ids</h5>
            <p class="card-text">It's OK to run multiple times </p>
            <button class="btn btn-primary" (click)="fixMenu()">Fix</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Handle Holiday Closed Hours</h5>
            <p class="card-text">This will add ALL closed hours for every restaurant. Send sms, using 8447935942. If
                restaurant replies 'open', system will remove the hours. </p>
            <button class="btn btn-primary" (click)="handleHolidy()">Execute</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Fix Price String Type</h5>
            <p class="card-text">Some item's price is sting instead of number. </p>
            <button class="btn btn-primary" (click)="fixPriceDataType()">Execute</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Fix Godaddy</h5>
            <p class="card-text">Find out problems of godaddy. </p>
            <button class="btn btn-primary" (click)="fixGodaddy()">Execute</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Remove Unused Invoices from Restaurant Object</h5>
            <p class="card-text">Invoices are accidentally updated to be part of restaurant body. They should be
                removed. No side effect.</p>
            <button class="btn btn-primary" (click)="removeInvoiceFromRestaurant()">Execute</button>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Fix Rate Schedules</h5>
            <p class="card-text">Remove special characters in agent names and turn eveything name lower case.</p>
            <button class="btn btn-primary" (click)="fixRateSchedules()">Execute</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Compute Sales Bonus</h5>
            <p class="card-text">Using given rules to compute qualified sales and bonuses.</p>
            <button class="btn btn-primary" (click)="computeBonuse()">Execute</button>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Migrate gmbOwnerships to accounts</h5>
            <p class="card-text">Migrate existing gmbOwnerships info into new structure accounts</p>
            <button class="btn btn-primary" (click)="migrateGmbOwnerships()">Execute</button>
        </div>
    </div>
</div>