<div class="card mb-2">
  <h3 class="card-title text-center pt-4 pb-2">
    <i class="fa fa-calendar-times-o"></i> Closed Days</h3>
  <ul class="list-group list-group-flush">
    <li class="list-group-item">
      <table class="table table-borderless table-sm">
        <tr *ngFor="let day of getClosedDays()">
          <th *ngIf="day.occurence == 'WEEKLY'">{{day.date | EEEE : restaurant.offsetToEST}}</th>
          <th *ngIf="day.occurence == 'MONTHLY'">{{day.date | appDate : restaurant.offsetToEST}}</th>
          <th *ngIf="day.occurence == 'YEARLY'">{{day.date | MMMd : restaurant.offsetToEST}}</th>
          <th *ngIf="!day.occurence || day.occurence == 'ONE-TIME'">{{day.date | yMMMd : restaurant.offsetToEST}}</th>
          <td class="text-lowercase">{{day.occurence}}
            <span *ngIf="day.comment">, {{day.comment}}</span>
          </td>
          <td *ngIf="editing" class="text-right">
            <button class="btn btn-link py-0" (click)="remove(day)">Delete</button>
          </td>
        </tr>
      </table>
      <div *qIf="editing">
        <div class="bg-light p-2 mb-4">
          <h5 class="text-center">Add New</h5>
          <label class="mt-1">Select occurence:</label>
          <q-selector #occurenceSelector [values]="['One-time', 'Weekly', 'Yearly']"></q-selector>

          <div *qIf="occurenceSelector.containsSelectedValue('Weekly')">
            <label>Select a weekday:</label>
            <q-selector #weekdaySelector [values]="weekdays" [columns]="4"></q-selector>
          </div>

          <div *qIf="occurenceSelector.containsSelectedValue('One-time') || occurenceSelector.containsSelectedValue('Yearly')">
            <div *qIf="occurenceSelector.containsSelectedValue('One-time')">
              <label class="mt-1">Select a year:</label>
              <q-selector #yearSelector [values]="getYears()"></q-selector>
            </div>
            <label class="mt-1">Select a month:</label>
            <q-selector #monthSelector [columns]="6" [values]="months"></q-selector>
            <div *qIf="monthSelector.selectedValues.length > 0">
              <label class="mt-1">Select a day:</label>
              <q-selector #daySelector [columns]="8" [values]="getDays(2016, monthSelector.selectedValues[0] - 1)"></q-selector>
            </div>
          </div>

          <div *qIf="isSelectionValid()">
            <label class="mt-1">Extra Comments:</label>
            <input [(ngModel)]="comments" type="text" class="form-control" placeholder="such as holidy" autofocus>

            <div class="mt-2">
              <button class="btn btn-block btn-primary" (click)="addClosedDay()">Submit</button>
            </div>
          </div>

        </div>
      </div>
      <div class="text-right">
        <button (click)="toggleEditing()" class="btn btn-primary" role="button">{{editing? 'Cancel Editing' : 'Edit'}}</button>
      </div>
    </li>
  </ul>
</div>