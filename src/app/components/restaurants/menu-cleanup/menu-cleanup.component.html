<div *ngIf="flattened.length > 0" class="menu-cleanup">
  <div class="cleanup-menus">
    <table class="table table-bordered">
    <thead>
      <tr>
        <th>Original</th>
        <th></th>
        <th>Modified Item Name</th>
        <th>Number</th>
        <ng-container *ngIf="!handleIDsOnly">
          <th>English Name</th>
          <th>Chinese Translation</th>
        </ng-container>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of flattened; let i = index;">
        <td [ngClass]="{warning: item.warning}">
          <div><strong>Name: </strong>{{item.name}}</div>
          <div><strong>Number: </strong>{{item.number}}</div>
          <div><a class="btn-link" (click)="restore(item, i)">Maintain</a></div>
        </td>
        <td><i class="fa fa-arrow-right"></i></td>
        <td>
          <textarea rows="3" [value]="item.editName" (change)="change(item, 'editName', $event)"></textarea>
        </td>
        <td><input class="input-menu-number" [value]="item.editNumber || ''" (change)="change(item, 'editNumber', $event)" /></td>
        <ng-container *ngIf="!handleIDsOnly">
          <td><textarea rows="3" [value]="item.translation?.en || ''" (change)="change(item.translation, 'en', $event, 'prev_en')"></textarea></td>
          <td><input [value]="item.translation?.zh || ''" (change)="change(item.translation, 'zh', $event)" /></td>
        </ng-container>
      </tr>
    </tbody>
  </table>
  </div>
  <div class="text-right mt-1">
    <button *ngIf="!hasSkip" type="button" class="btn btn-secondary" (click)="this.cancel.emit()">Cancel</button>
    <button *ngIf="hasSkip" type="button" class="btn btn-secondary" (click)="this.skip.emit()">Skip</button>
    <button type="button" class="btn btn-primary" (click)="ok()">Confirm</button>
  </div>
</div>
<div *ngIf="flattened.length === 0">All menus are cleaned up!</div>
