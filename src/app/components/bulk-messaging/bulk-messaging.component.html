<div class="row">
  <div class="col-md-12">
    <small>Enter comma separated list of restaurant id</small>
  </div>
</div>

<div class="row">
  <div class="col-md-4">
    <div class="row mb-3">
      <div class="col-md-12">
        <textarea type="text" class="form-control form-control-sm" placeholder="Restaurant Id" [(ngModel)]="inputRestaurantString" rows='7'></textarea>
        <button class="btn btn-link" (click)="onAddRestaurant()">Add</button>
      </div>
    </div>
    
    <div class="bulk-container">
      <div *ngFor="let restaurant of restaurants" class="bulk-restaurant">
        <a routerLink="/restaurants/{{restaurant._id}}">{{restaurant.name}}</a>
        <p class="bulk-restaurant__id"><small>{{restaurant._id}}</small></p>
        <p class="bulk-restaurant__address mb-2"><small>{{restaurant.googleAddress?.formatted_address}}</small></p>
        <p class="bulk-restaurant__remove"></p><a href='#' class="text-secondary"
          (click)="onRemove(restaurant._id)">Remove</a>
      </div>
    </div>
   
  </div>

  <div class="col-md-5">

    <div class="row">
      <div class="col-md-3">
        <div class="text-center">
          <label>Select channel:</label>
        </div>
      </div>

      <div class="col-md-3">
        <div class="text-center">
          <input class="form-check-input" type="checkbox" [(ngModel)]="isSMS" [checked]="isSMS" (change)="onChange()">
          <label class="form-check-label" for="id-gmb"> SMS</label>
        </div>
      </div>

      <div class="col-md-3">
        <div class="text-center">
          <input class="form-check-input" type="checkbox" [(ngModel)]="isEmail" [checked]="isEmail"
            (change)="onChange()">
          <label class="form-check-label" for="id-gmb"> Email</label>
        </div>

      </div>

      <div class="col-md-3">
        <div class="text-center">
          <input class="form-check-input" type="checkbox" [(ngModel)]="isFax" [checked]="isFax" (change)="onChange()">
          <label class="form-check-label" for="id-gmb"> Fax</label>
        </div>

      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <div *ngIf="isSMS" class="form-group">
          <label>SMS Contents:</label>
          <textarea class="form-control" rows="4" [(ngModel)]="smsMsgContents"></textarea>
        </div>

        <div *ngIf="isEmail" class="form-group">
          <label>Email Contents:</label>
          <textarea class="form-control" rows="4" [(ngModel)]="emailMsgContents"></textarea>
        </div>

        <div *ngIf="isFax" class="form-group">
          <label>Fax Contents:</label>
          <textarea class="form-control" rows="4" [(ngModel)]="faxMsgContents"></textarea>
        </div>

      </div>
    </div>

  </div>

  <div class="col-md-3">
    <button *ngIf="!isRunning" class="btn btn-primary btn-sm" (click)="startBulkSend()">Start Sending</button>
    <button *ngIf="isRunning" class="btn btn-primary btn-sm" (click)="isRunning=false">Stop Sending</button>
    <div class="row">
      <div class="col-md-12">
        <p>{{currentStatus}}</p>
      </div>
    </div>
  </div>

</div>