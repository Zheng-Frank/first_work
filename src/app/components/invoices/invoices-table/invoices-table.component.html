<div>
  Keys: &#9632;<span class="text-light bg-dark"> Invoice Sent</span> | <span class="text-info">&#9632; Payment Sent</span>
  | <span class="text-success">&#9632; Payment Completed</span>
  <div class="checkbox d-inline ml-4">
    <label><input type="checkbox" [(ngModel)]="showCanceled"> Show canceled invoices</label>
  </div>
</div>
<table class="table table-hover">
  <thead>
    <tr>
      <th>Date Range</th>
      <th>Rolled From</th>
      <!-- <th class="text-right">Subtotal</th> -->
      <!--<th>Tax</th>
      <th>Delivery</th>
      <th>Tip</th>-->
      <th class="text-right">Total</th>
      <th class="text-right">Collected By Restaurant</th>
      <th class="text-right">Collected By qMenu</th>
      <th class="text-right">Commission</th>
      <th>Balance</th>
      <!--<th>Agent</th>-->
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let invoice of getFilteredInvoices()" routerLink="/invoices/{{invoice._id}}" class="link {{getCssClass(invoice)}} {{invoice.isCanceled ?  'canceled' : ''}}"
      role="button">
      <td>{{invoice.fromDate | adjustedDate: 'MMM dd' : 'America/New_York'}} - {{invoice.toDate | adjustedDate: 'MMM dd' : 'America/New_York'}}</td>
      <td><small *ngIf="getPreviousInvoice(invoice)">{{getPreviousInvoice(invoice).fromDate | adjustedDate: 'MMM dd' : 'America/New_York'}} -
          {{getPreviousInvoice(invoice).toDate | adjustedDate: 'MMM dd' : 'America/New_York'}}</small></td>
      <!-- <td class="text-right">{{invoice.subtotal | currency:'USD':'symbol'}}</td> -->
      <!--<td class="text-right">{{invoice.getTax() | currency:'USD':'symbol'}}</td>
      <td class="text-right">{{invoice.getDeliveryCharge() | currency:'USD':'symbol'}}</td>
      <td class="text-right">{{invoice.getTip() | currency:'USD':'symbol'}}</td>-->
      <td class="text-right">{{invoice.total | currency:'USD':'symbol'}}</td>
      <td class="text-right">{{invoice.restaurantCcCollected + invoice.cashCollected | currency:'USD':'symbol'}}</td>
      <td class="text-right">{{invoice.qMenuCcCollected | currency:'USD':'symbol'}}</td>
      <td class="text-right">{{(invoice.commission >0 ? invoice.commission: invoice.commission + invoice.feesForQmenu) | currency:'USD':'symbol'}}</td>
      <td class="text-right">{{invoice.balance | currency:'USD':'symbol'}}</td>
      <!--<td class="text-right">{{order.total | currency:'USD':'symbol'}}</td>-->
    </tr>
  </tbody>
</table>