
<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
<h4 class="text-center">Create Invoice</h4>
<hr>

<h1 class="text-center">{{startDate | date:'MMMM y' }}</h1>
<div>
  <ng-container *ngFor="let state of invoiceStates">
    <label class="{{state.css}}" for="inlineFormCustomSelect">{{state.label}}</label>
    <select [(ngModel)]="state.value">
      <option value="any">any</option>
      <option value="yes">yes</option>
      <option value="no">no</option>
    </select> &nbsp;
  </ng-container>
  <label class="checkbox-inline"><input type="checkbox" [(ngModel)]="showCanceledRestaurant"> Show Canceled Restaurant</label> | 
  <label class="checkbox-inline"><input type="checkbox" [(ngModel)]="showRestaurantWithInvoiceOnly"> Show Restaurant With Invoice</label>
  <label class="checkbox-inline"><input type="checkbox" [(ngModel)]="showQmenuInvoiceOnly"> Show Qmenu Invoice</label>
</div>
<table class="table table-hover">
  <thead>
    <tr>
      <th role="button" class="text-primary" (click)="sort('name')">Restaurant <i class="fas fa-sort"></i></th>
      <th>Date Range</th>
      <th class="text-right">Total</th>
      <th class="text-right">Commission</th>
      <th class="text-right"></th>
      <th class="text-right">Invoice Option</th>
      <th role="button" class="text-primary text-right" (click)="sort('creditCardProcessingMethod')">Credit Card <i class="fas fa-sort"></i></th>
      <th colspan="3" class="text-right">Action</th>
    </tr>
  </thead>
  <tbody>

    <tr>
        <th></th>
        <th>SUM</th>
        <th class="text-right">{{getTotal() | currency:'USD':'symbol':'1.2-2'}}</th>
        <th class="text-right">{{getCommission() | currency:'USD':'symbol':'1.2-2'}}</th>
        <th></th>
        <th></th>
    </tr>
  </tbody>
</table>

<q-modal #invoiceModal>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
  <h4 class="text-center">Create Invoice</h4>
  <hr>

  <app-invoice-editor #myInvoiceEditor (onNewInvoice)="createNewInvoice($event)" (onCancel)="invoiceModal.hide()"></app-invoice-editor>
</q-modal>

<q-modal #invoiceOptionModal>
  <button type="button" class="close" data-dismiss="modal" arial-label="Close"><span aria-hidden="true">×</span></button>
  <h4 class="text-center">Invoice Delivery Method</h4>
  <hr>
  
  <app-invoice-option-editor #myInvoiceOptionEditor (onInvoiceOption)="createInvoiceOption($event)" (onCancel)="invoiceOptionModal.hide()"></app-invoice-option-editor>
</q-modal>